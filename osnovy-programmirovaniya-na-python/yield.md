# yield

### **1. –ß—Ç–æ —Ç–∞–∫–æ–µ `yield`**

* `yield` ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ **–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä**.
* –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `return`, –∫–æ—Ç–æ—Ä–æ–µ **–∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ**, `yield` **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç" —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**, —á—Ç–æ–±—ã –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞.

***

### **2. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

```python
def my_generator(n):
    for i in range(n):
        yield i  # –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç i –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

gen = my_generator(3)

print(next(gen))  # 0
print(next(gen))  # 1
print(next(gen))  # 2
# print(next(gen))  # StopIteration
```

* –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `next(gen)` **–≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ `yield`**.
* –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö `yield` –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä **–≤—ã–¥–∞—ë—Ç StopIteration**.

***

### **3. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ**

* –ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, –ø–æ—Ö–æ–∂–∞ –Ω–∞ list comprehension, –Ω–æ —Å `()`:

```python
gen_exp = (x**2 for x in range(5))
print(list(gen_exp))  # [0, 1, 4, 9, 16]
```

***

### **4. –û—Ç–ª–∏—á–∏–µ `yield` –æ—Ç `return`**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞        | `return`        | `yield`                    |
| --------------------- | --------------- | -------------------------- |
| –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–¥–∏–Ω —Ä–∞–∑        | –ú–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑        |
| –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏    | –î–∞              | –ù–µ—Ç, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
| –¢–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏           | –û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä                  |

***

### **5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞—Ö**

* **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö "–Ω–∞ –ª–µ—Ç—É"**:

```python
def generate_users(n):
    for i in range(n):
        yield {"username": f"user{i}", "password": "123"}
```

* **–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –ª–æ–≥–æ–≤**, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–µ—Å—å —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç—å:

```python
def read_file(file_path):
    with open(file_path) as f:
        for line in f:
            yield line.strip()
```

* **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å pytest**:

```python
import pytest

@pytest.mark.parametrize("user", generate_users(3))
def test_login(user):
    assert login(user["username"], user["password"]) == True
```

***

üí° **–í—ã–≤–æ–¥:**

* `yield` = –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ **–±–µ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏** –∏ —Å–æ–∑–¥–∞—ë—Ç **–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä**.
* –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–ª–µ–Ω–∏–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –±–æ–ª—å—à–∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏**.
